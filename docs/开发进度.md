# 开发进度跟踪

## ✅ 已完成

### 1. 项目初始化
- [x] 创建新项目结构
- [x] 配置 TypeScript
- [x] 配置 Next.js
- [x] 配置 Tailwind CSS
- [x] 部署到 Vercel

### 2. 数据库设置
- [x] 创建数据库 Schema
- [x] 配置 RLS 策略
- [x] 创建初始化 SQL 脚本

### 3. 核心配置系统
- [x] 统一角色配置系统（`lib/game/roles.ts`）
  - [x] 22个角色定义
  - [x] 3个板子配置
  - [x] 行动顺序配置
- [x] 类型定义系统（`types/game.ts`）
- [x] 游戏常量（`lib/game/constants.ts`）

### 4. 基础结构
- [x] Supabase 客户端/服务端配置
- [x] 基础页面结构
- [x] API 路由基础（创建房间、加入房间）

---

## 🚧 进行中

### 1. API 路由实现
- [ ] 开始游戏（支持板子选择）
- [ ] 夜晚结算
- [ ] 白天结算
- [ ] 提交技能
- [ ] 提交投票

### 2. 前端组件
- [ ] 大厅组件（Lobby）
- [ ] 板子选择器（BoardSelector）
- [ ] 夜晚阶段组件（NightPhase）
- [ ] 白天阶段组件（DayPhase）
- [ ] 投票阶段组件（VotePhase）
- [ ] 游戏结束组件（GameOver）
- [ ] 游戏手册组件（GameManual）

---

## 📋 待实现

### 1. 7个新角色功能
- [ ] 反向投票者
- [ ] 均衡守护者
- [ ] 命运复制者
- [ ] 心灵胜者
- [ ] 命运转移者
- [ ] 投票回收者
- [ ] 胜利夺取者

### 2. 系统功能
- [ ] 板子系统（3个预设板子）
- [ ] 行动顺序系统（夜晚8步、白天7步）
- [ ] 死局判定（连续3次相同情况）

### 3. 游戏逻辑
- [ ] 计票逻辑（支持所有角色效果）
- [ ] 胜利判定（所有22个角色的胜利条件）
- [ ] 技能处理（按顺序处理）

---

## 🎯 下一步计划

### 优先级 1（核心功能）
1. 完成基础 API 路由
2. 实现大厅和板子选择
3. 实现基础游戏流程（夜晚→白天→投票）

### 优先级 2（新角色）
1. 实现简单的角色（反向投票者、均衡守护者）
2. 实现中等复杂度的角色（投票回收者、命运转移者）
3. 实现复杂角色（命运复制者、心灵胜者、胜利夺取者）

### 优先级 3（系统功能）
1. 实现板子系统
2. 实现行动顺序系统
3. 实现死局判定

---

## 📊 完成度

- **项目基础**: 100% ✅
- **配置系统**: 100% ✅
- **API 路由**: 20% 🚧
- **前端组件**: 10% 🚧
- **新角色功能**: 0% 📋
- **系统功能**: 0% 📋

**总体进度**: 约 30%

---

## 📝 备注

- 当前重点是完成基础功能，让游戏可以运行
- 新角色功能可以逐步添加
- 系统功能（板子、行动顺序、死局）在基础功能完成后实现



